{"version":3,"file":"static/js/379.1cb67841.chunk.js","mappings":"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","sources":["components/FetchAPIs/FetchMovieDetails.jsx","webpack://react-homework-template/./src/components/styles/movieDetails.module.css?644e","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nfunction fetchMovieDetails(movieId) {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=a42bf4f31f7d8fb3cfc076b340ef7462`\n  );\n}\n\nexport default fetchMovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"movieDetails_movieContainer__1tyAL\",\"description\":\"movieDetails_description__uCkzu\",\"posterImg\":\"movieDetails_posterImg__5Z1Qv\",\"list\":\"movieDetails_list__FPkIU\",\"genres\":\"movieDetails_genres__G3mN-\",\"genre\":\"movieDetails_genre__jt0cM\",\"info\":\"movieDetails_info__nRs6w\",\"infoTitle\":\"movieDetails_infoTitle__3tyUo\"};","import React from 'react';\nimport { useState, useEffect, Suspense, useRef } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\n\nimport fetchMovieDetails from '../components/FetchAPIs/FetchMovieDetails';\nimport Loader from '../components/Loader/Loader';\n\nimport css from '../components/styles/movieDetails.module.css';\n\nconst MovieDetails = ({ id }) => {\n  const [movie, setMovie] = useState({});\n  const [genres, setGenres] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? './movies');\n\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\n  const { movieId } = useParams();\n\n  const baseUrl = 'https://image.tmdb.org/t/p/w200';\n  const movieUrl = movie.poster_path;\n  const ApiKey = 'a42bf4f31f7d8fb3cfc076b340ef7462';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    fetchMovieDetails(movieId)\n      .then(function (response) {\n        setMovie(response.data);\n        setGenres(response.data.genres);\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n      .finally(setIsLoading(false));\n  }, [movieId]);\n\n  const yearCount = () => {\n    if (!movie.release_date) {\n      return;\n    }\n    return movie.release_date.slice(0, 4);\n  };\n\n  return (\n    <Suspense fallback={<Loader />}>\n      <div className={css.movieContainer}>\n        <Link to={backLinkRef.current ?? '/'}>Go back</Link>\n\n        {isLoading && <Loader />}\n\n        <div className={css.description}>\n          <img\n            src={\n              movieUrl ? `${baseUrl}${movieUrl}?api_key=${ApiKey}` : defaultImg\n            }\n            height={300}\n            alt=\"poster film\"\n            className={css.posterImg}\n          />\n\n          <div>\n            <h2>\n              {movie.title} ({yearCount()})\n            </h2>\n            <p>User score: {movie.vote_average}%</p>\n            <h3>Overwiew</h3>\n            <p>{movie.overview}</p>\n            <h4>Genres</h4>\n            <div className={css.genres}>\n              {genres.map(item => (\n                <ul className={css.genre} key={item.id}>\n                  <li className={css.list}>{item.name}</li>\n                </ul>\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className={css.info}>\n          <h4 className={css.infoTitle}>Additional information</h4>\n          <ul>\n            <li>\n              <Link to={`/movies/${movieId}/cast`}>CAST</Link>\n            </li>\n            <li>\n              <Link to={`/movies/${movieId}/reviews`}>Reviews</Link>\n            </li>\n          </ul>\n        </div>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </Suspense>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["movieId","axios","concat","_ref","id","_location$state$from","_location$state","_backLinkRef$current","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","genres","setGenres","_useState5","_useState6","isLoading","setIsLoading","location","useLocation","backLinkRef","useRef","state","from","useParams","movieUrl","poster_path","useEffect","fetchMovieDetails","then","response","data","catch","error","console","log","finally","_jsx","Suspense","fallback","Loader","children","_jsxs","className","css","Link","to","current","src","height","alt","title","release_date","slice","yearCount","vote_average","overview","map","item","name","Outlet"],"sourceRoot":""}